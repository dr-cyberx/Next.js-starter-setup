#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'Styling, testing and building your project before committing...'


#Check ts-config Standards
npm run check-types || 
(
    echo 'âŒ Failed type check âŒ. Make the required changes listed above, '
    false;
)

#Check Prettier Standards
npm run check-format || 
(
    echo 'âŒ Prettier check Failed âŒ. Run npm run format , add changes and try commit again.'
    false;
)

#Check eslint Standards
npm run check-lint || 
(
    echo 'âŒ Eslint check Failed âŒ. Make the required changes listed above, and try commit again.'
    false;
)

#If everything passes... try to run build
echo '
Eslint âœ…
Prettier âœ…
TypeScript Check âœ…
Everything looks perfect. 
Trying to Build now ğŸ› ï¸...'

npm run build || 
(
    echo 'âŒ Next Build failed âŒ, view the errors above for detail'
    false;
)

echo 'Build Completed Successfully âœ…. Committing now...'